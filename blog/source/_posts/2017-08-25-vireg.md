---
title: Vim中的正则表达式
date: 2017-08-25 10:02:53
categories:
  - vim
tags:
  - vim
  - 正则表达式
---

## 正文

&ensp;&ensp;&ensp;前面已经介绍过正则表达式，由于我是一个vim的重度使用者，所以vim中的正则表达式也是我经常使用的。当然，其实概念原理都是一样的，所以本文只是展示一下通过从网上搜集的vim正则的符号使用而已。

<!--more-->

### 量词

|   vim  |     意义
|--------|:----------------------
| \*     |  0个或多个
| \\+    |  1个或多个
| \\?     |  0个或1个，\?不能在 ? 命令（逆向查找）中使用
| \\{n,m} |  n个到m个
| \\{n,}  |  最少n个
| \\{,m}  |  最多m个
| \\{n}   |  恰好n个
| \\{-n,m}|  n个到m个(非贪婪)
| \\{-}   |  0个或多个(非贪婪)
| \\{-1,} |  1个或多个(非贪婪)
| \\{-,1} |  0个或1个(非贪婪)
| \\_.    |  匹配包含换行在内的所有字符
| \\=     |  匹配一个可有可无的项
| \\_s    |  匹配空格或断行

### 环视和固化分组

 |  vim        |  正则表达式   |      意义     |
 |-------------|:-------------:|---------------|
 |  \@=        |  (?=          |  顺序环视     |
 |  \@!        |  (?!          |  顺序否定环视 |
 |  \@<=       |  (?<=         |  逆序环视     |
 |  \@<!       |  (?<!         |  逆序否定环视 |
 |  \@>        |  (?>          |  固化分组     |
 |  \%(atom\)  |  (?:          |  非捕获组     |

&ensp;&ensp;&ensp;这里要注意vim中的环视表达式的书写位置和普通正则不同，如`(?<=abc)dec`在vim中应该写为`\(abc\)\@<=dec`.h。

### 元字符

|  元字符 |           说明
|---------|:-------------------------------------------
|  .      |  匹配任意一个字符
|  [abc]  |  匹配方括号中的任意一个字符。可以使用-表示字符范围，如[a-z0-9]匹配小写字母和阿拉伯数字。
|  [^abc] |  在方括号内开头使用^符号，表示匹配除方括号中字符之外的任意字符。
|  \d     |  匹配阿拉伯数字，等同于[0-9]。
|  \D     |  匹配阿拉伯数字之外的任意字符，等同于[^0-9]。
|  \x     |  匹配十六进制数字，等同于[0-9A-Fa-f]。
|  \X     |  匹配十六进制数字，等同于[^0-9A-Fa-f]。
|  \w     |  匹配单词字母，等同于[0-9A-Za-z_]。
|  \W     |  匹配单词字母之外的任意字符，等同于[^0-9A-Za-z_]。
|  \t     |  匹配<TAB>字符。
|  \s     |  匹配空白字符，等同于[ \t]。
|  \S     |  匹配非空白字符，等同于[^ \t]。
|  \a     |  所有的字母字符. 等同于[a-zA-Z]
|  \l     |  小写字母 [a-z]
|  \L     |  非小写字母 [^a-z]
|  \u     |  大写字母 [A-Z]
|  \U     |  非大写字母 [^A-Z]
|  $      |  匹配行尾
|  ^      |  匹配行首
|  \<     |  匹配单词词首
|  \\>     |  匹配单词词尾
|  \&     |  并列

&ensp;&ensp;&ensp;vim还有一个不常见的有用的元字符，`\zs`和`\ze`，它们的意思是限定匹配的范围。先想一下，当我们要进行查找时，需要先写一个正则表达式，这个正则表达式称为模式。而通过这个模式在原文本匹配到的内容成为匹配，有的时候需要对匹配的部分内容进行截取，这个时候就需要用到`\zs`（匹配开始）和`\ze`（匹配结束）了。如我们要在文本`the word "world"`中匹配在双引号中的内容，我们很自然的写出模式`"[^"]+"`，这样就会得到匹配内容`"world"`，但是这不符合我们要求啊，我们不想要双引号本身，怎么办？使用`\zs`和`\ze`，写出模式`"\zs[^"]+\ze"`，这样就得到了匹配结果`world`。`\zs`和`\ze`是零宽度的，它们只是指定匹配的开始和结束，并不匹配任何字符。我们也可以使用环视来达到`\zs`和`\ze`的效果，如上面的模式可以改为`"\@<=[^"]+"\@=]"`达到同样的效果。

&ensp;&ensp;&ensp;`<`和`>`能够匹配单词的边界，其可以使用元字符`\zs`和`\ze`得到，`\W\ze\w`相当于`\<`，`\w\ze\W`相当于`\>`

&ensp;&ensp;&ensp;另外`\|`表示"或"操作符
转载请注明:[Artemis的博客](https://BlasphemyAngels.github.io)--> [点此看原文](https://BlasphemyAngels.github.io/2017/08/25/2017-08-25-vireg/)
